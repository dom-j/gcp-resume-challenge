steps:
# Step 1: Checkout the code from GitHub 
 - name: 'gcr.io/cloud-builders/git' 
   args: ['clone','https://github.com/dom-j/gcp-resume-challenge.git','resume-frontend',]
   env:
    - 'CLOUDSDK_COMPUTE_REGION=europe-west1'
    
# Step 2: Install dependencies and build your frontend
# - name: 'gcr.io/cloud-builders/npm'
 #  args: ['install',]
  # env: 
  #   - 'CLOUDSDK_COMPUTE_REGION=europe-west1'

# Test
 #- name: 'gcr.io/cloud-builders/npm'
#   args: ['run','test:unit',]
 #  env:
 #   - 'CLOUDSDK_COMPUTE_REGION=europe-west1'

# Build
# - name: 'gcr.io/cloud-builders/npm'
 #  args: ['run','build',]
 #  env:
 #   -  'CLOUDSDK_COMPUTE_REGION=europe-west1'#>

#Deploy to Cloud Storage

 - name: 'gcr.io/cloud-builders/gsutil'
   args: ['cp', '-r','resume-frontend/resume','gs://website-by-dom-j',]
   env:
    - 'CLOUDSDK_COMPUTE_REGION=europe-west1'

